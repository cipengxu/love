<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/threepipe.svg" />
    <link rel="shortcut icon" href="favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>

    <link rel="stylesheet" href="./src/style.css" />

    <link rel="stylesheet" type="text/css" href="css/pxn8wdc.css" />
    <link rel="stylesheet" type="text/css" href="css/base.css" />
    <script>
      document.documentElement.className = "js";
    </script>

    <title>徐赐朋❤️彭佳慧</title>
  </head>
  <body class="loading">
    <div id="root"></div>

    <main id="album" class="shadow">
      <div class="frame"></div>
      <div class="intro">
        <h1 class="intro__title font-alt">徐赐朋❤️彭佳慧 - 我们的故事</h1>
      </div>
      <section>
        <div class="grid">
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/1.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/2.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/3.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/4.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/5.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/6.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/7.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/8.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/9.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/10.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/11.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/12.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/13.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/14.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/15.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/16.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/17.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/18.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/19.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/20.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/1.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/2.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/3.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/4.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/5.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/6.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/7.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/8.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/9.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/10.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/11.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/12.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/13.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/14.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/15.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/16.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/17.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/18.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/19.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/20.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/1.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/2.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/3.jpg)"
              ></div>
            </div>
          </figure>
          <figure class="grid__item">
            <div class="grid__item-imgwrap">
              <div
                class="grid__item-img"
                style="background-image: url(img/4.jpg)"
              ></div>
            </div>
          </figure>
        </div>
        <!-- grid -->
        <div class="mark">
          <div class="mark__inner font-alt">
            <span>我们第一次约会</span>
            <span>在南浦大桥🌉</span>
            <span>我们第一次去求佛</span>
            <span>在普陀山</span>
            <span>我们第一次远行</span>
            <span>在千岛湖</span>
            <span>我们的订婚💍</span> 
            <span>在国庆</span>
            <span>我们的婚礼💒</span>
            <span>在元旦</span>
            <span>我们共同的小窝窝🏠</span>
            <span>在浦东</span>
            <span>我们第一次定做自己的</span> 
            <span>情侣对戒💍</span>
            <span>我们还有好多</span>
            <span>老妈寄过来的菜</span>
            <span>我们还有好多快递📦</span> 
            <span>等着你来拆呢</span>
            <span>老婆</span> 
            <span>快回来吧！</span>
          </div>
        </div>
      </section>
      <section>
        <div class="text font-alt">我最爱你了！</div>
      </section>
      <section>
        <div class="grid grid--full">
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/1.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/2.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/3.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/4.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/5.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/6.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/7.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/8.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/9.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/10.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/11.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/12.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/13.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/14.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/15.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/16.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/17.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/18.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/19.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/20.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/1.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/2.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/3.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/4.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/5.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/6.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/7.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/8.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/9.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/10.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/11.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/12.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/13.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/14.jpg)"
            ></div>
          </figure>
          <figure class="grid__item">
            <div
              class="grid__item-img"
              style="background-image: url(img/15.jpg)"
            ></div>
          </figure>
        </div>
      </section>
      <p class="credits font-alt">来自你最爱的老公 ❤️ 徐赐朋</p>
      <script>
        function handleShowCanvas() {
          // const root = document.getElementById("root");
          // root.style.display = "none";

          const album = document.getElementById("album");
          album.innerHTML = "";

          const canvasContainer = document.getElementById(
            "threepipe-canvas-container"
          );
          canvasContainer.style.display = "block";
        }
      </script>
      <p class="credits font-alt" onclick="handleShowCanvas()">
        好的，我原谅你了！
      </p>
    </main>

    <div id="threepipe-canvas-container" style="display: none">
      <canvas id="threepipe-canvas"></canvas>
    </div>

    <script>
      (function (root, factory) {
        if (typeof define === "function" && define.amd) {
          define(["react", "react-dom"], factory);
        } else if (typeof exports === "object") {
          module.exports = factory(require("react"), require("react-dom"));
        } else {
          root.ApologyPage = factory(root.React, root.ReactDOM);
        }
      })(typeof self !== "undefined" ? self : this, function (React, ReactDOM) {
        "use strict";

        const { useState, useEffect } = React;

        const Icon = ({ name, ...props }) => {
          const el = React.createElement("i", {
            "data-feather": name,
            ...props,
          });

          useEffect(() => {
            if (window.feather) {
              window.feather.replace();
            }
          }, []);

          return el;
        };

        const injectStyles = () => {
          const styles = `
        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
        }
        .animate-float {
            animation: float linear forwards;
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        .animate-bounce-in {
            animation: bounceIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); opacity: 1; }
        }
        .memory-card {
            perspective: 1000px;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        .memory-card:hover {
            transform: translateY(-10px) rotateX(10deg) rotateY(10deg);
        }
        .memory-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(255,255,255,0.1), rgba(255,255,255,0.2));
            z-index: 2;
            transition: opacity 0.3s ease;
            opacity: 0;
        }
        .memory-card:hover::before {
            opacity: 1;
        }
        .gallery-container {
            position: relative;
            height: 80vh;
            overflow: hidden;
        }
        .cards-wrapper {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
        }
        @keyframes floatCard {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(2deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }
    `;

          const styleSheet = document.createElement("style");
          styleSheet.type = "text/css";
          styleSheet.innerText = styles;
          document.head.appendChild(styleSheet);
        };

        const memories = [
          {
            placeholder: "/img/WechatIMG9.jpg",
            date: "我们的第一次约会",
            description: "还记得那天你穿着蓝色的连衣裙...",
          },
          {
            placeholder: "/img/WechatIMG10.jpg",
            date: "第一次一起旅行",
            description: "那是我们去的海边，你说要把贝壳带回家...",
          },
          {
            placeholder: "/img/WechatIMG11.jpg",
            date: "去年的生日",
            description: "我偷偷准备的惊喜，你开心得像个小孩子...",
          },
          {
            placeholder: "/img/WechatIMG12.jpg",
            date: "最难忘的晚餐",
            description: "记得你说这是吃过最浪漫的一顿饭...",
          },
        ];

        const MemoriesGallery = ({ onClose }) => {
          const [activeIndex, setActiveIndex] = useState(0);

          return React.createElement(
            "div",
            {
              className:
                "fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",
            },
            React.createElement(
              "div",
              {
                className: "w-full h-full max-w-6xl mx-auto relative",
              },
              React.createElement(
                "button",
                {
                  onClick: onClose,
                  className:
                    "absolute top-4 right-4 z-50 text-white hover:text-pink-500 transition-colors duration-300",
                },
                React.createElement(Icon, {
                  name: "x",
                  className: "w-8 h-8",
                })
              ),
              React.createElement(
                "h2",
                {
                  className:
                    "text-3xl font-bold text-white text-center mb-8 mt-4",
                },
                "我们的珍贵回忆"
              ),
              React.createElement(
                "div",
                {
                  className: "gallery-container",
                },
                React.createElement(
                  "div",
                  {
                    className: "cards-wrapper",
                  },
                  memories.map((memory, index) => {
                    const isActive = index === activeIndex;
                    const offset = index - activeIndex;
                    const style = {
                      transform: `
                                translateX(${offset * 120}%) 
                                translateZ(${isActive ? 0 : -500}px) 
                                rotateY(${offset * -45}deg)
                            `,
                      opacity: isActive ? 1 : 0.6,
                      zIndex: memories.length - Math.abs(offset),
                      animation: isActive
                        ? "floatCard 6s ease-in-out infinite"
                        : "none",
                    };

                    return React.createElement(
                      "div",
                      {
                        key: index,
                        className: `memory-card absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 
                                w-full max-w-lg cursor-pointer transition-all duration-700 ease-out`,
                        style: style,
                        onClick: () => setActiveIndex(index),
                      },
                      React.createElement(
                        "div",
                        {
                          className:
                            "relative rounded-xl overflow-hidden shadow-2xl",
                        },
                        React.createElement("img", {
                          src: memory.placeholder,
                          alt: memory.date,
                          className: "w-full h-96 object-cover",
                        }),
                        React.createElement(
                          "div",
                          {
                            className:
                              "absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-8",
                          },
                          React.createElement(
                            "h3",
                            {
                              className: "text-white text-2xl font-bold mb-2",
                            },
                            memory.date
                          ),
                          React.createElement(
                            "p",
                            {
                              className: "text-white text-lg opacity-90",
                            },
                            memory.description
                          )
                        )
                      )
                    );
                  })
                )
              ),
              React.createElement(
                "div",
                {
                  className:
                    "absolute bottom-8 left-0 right-0 flex justify-center space-x-4",
                },
                memories.map((_, index) =>
                  React.createElement("button", {
                    key: index,
                    className: `w-3 h-3 rounded-full transition-all duration-300 ${
                      index === activeIndex
                        ? "bg-pink-500 scale-125"
                        : "bg-white opacity-50 hover:opacity-75"
                    }`,
                    onClick: () => setActiveIndex(index),
                  })
                )
              )
            )
          );
        };

        function ApologyPage() {
          const [stage, setStage] = useState(0);
          const showMemories = false;
          // const [showMemories, setShowMemories] = useState(false);
          const [rejectionCount, setRejectionCount] = useState(0);
          const [hearts, setHearts] = useState([]);

          const setShowMemories = () => {
            const root = document.getElementById("root");
            root.style.display = "none";
            root.innerHTML = "";

            const album = document.getElementById("album");
            album.style.visibility = "visible";
            album.style.margin = "0";

            const canvasContainer = document.getElementById(
              "threepipe-canvas-container"
            );
            canvasContainer.style.display = "none";
          };

          useEffect(() => {
            injectStyles();
          }, []);

          const createHeart = () => {
            const heart = {
              id: Date.now(),
              left: Math.random() * 100,
              animationDuration: 3 + Math.random() * 2,
            };
            setHearts((prev) => [...prev, heart]);
            setTimeout(() => {
              setHearts((prev) => prev.filter((h) => h.id !== heart.id));
            }, heart.animationDuration * 1000);
          };

          useEffect(() => {
            if (stage === 1) {
              const interval = setInterval(createHeart, 300);
              return () => clearInterval(interval);
            }

            if (stage === 2) {
              setTimeout(() => {
                const root = document.getElementById("root");
                root.style.display = "none";
                root.innerHTML = "";

                const canvasContainer = document.getElementById(
                  "threepipe-canvas-container"
                );
                canvasContainer.style.display = "block";
              }, 5000);
            }
          }, [stage]);

          const handleReject = () => {
            setRejectionCount((prev) => prev + 1);
            const button = document.querySelector(".reject-button");
            if (button) {
              button.style.transform = `scale(${
                1 - rejectionCount * 0.1
              }) translate(${Math.random() * 50}px, ${Math.random() * 50}px)`;
            }
          };

          return React.createElement(
            "div",
            {
              className:
                "min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 flex flex-col items-center justify-center p-4",
            },
            stage === 0 &&
              React.createElement(
                "div",
                {
                  className: "text-center space-y-6 animate-fade-in",
                },
                React.createElement(
                  "h1",
                  {
                    className: "text-4xl font-bold text-pink-600 mb-8",
                  },
                  "亲爱的老婆，我错了"
                ),
                React.createElement(
                  "button",
                  {
                    onClick: () => setStage(1),
                    className:
                      "px-8 py-4 bg-pink-500 text-white rounded-full hover:bg-pink-600 transition-all duration-300",
                  },
                  "点击开启我的真心道歉"
                )
              ),

            stage === 1 &&
              React.createElement(
                "div",
                {
                  className:
                    "max-w-md w-full bg-white rounded-xl shadow-2xl p-8 space-y-6 relative",
                },
                React.createElement(
                  "div",
                  {
                    className: "text-center space-y-4",
                  },
                  React.createElement(
                    "h2",
                    {
                      className: "text-2xl font-bold text-gray-800",
                    },
                    "我知道我做错了"
                  ),
                  React.createElement(
                    "button",
                    {
                      className:
                        "w-full p-4 bg-pink-400 rounded-lg hover:bg-pink-400 transition-all duration-300",
                    },
                    null,
                    "我的佳慧，我深刻的认识到自己那天做的决定真的太离谱了，为了自己能早点回公司，假借分手的名义让你快点离开，从来没有想过这么做会给你带来多大的伤害与痛苦，我为我的错误，郑重地向你道歉，原谅我吧，宝宝，其实你心里也清楚我，怎么会舍得你离开我呢，我们都是这么多磨难中成长过来的，我虽说不是那种富可敌国的CEO总裁，目前不能给予你充足的财富保障，可是我愿意用自己最擅长的方式去努力改变这一切，而且很有信心，更何况我对你的一片真心是没有谁能替代的，未来我们都会越来越好的，我的小宝儿。" // 查看我们的回忆
                  ),
                  React.createElement(
                    "div",
                    {
                      className: "flex justify-center space-x-4",
                    },
                    React.createElement(
                      "button",
                      {
                        onClick: () => setStage(2),
                        className:
                          "px-6 py-3 bg-pink-500 text-white rounded-full hover:bg-pink-600",
                      },
                      "原谅我吧"
                    ),
                    React.createElement(
                      "button",
                      {
                        onClick: handleReject,
                        className:
                          "reject-button px-6 py-3 bg-gray-300 text-gray-600 rounded-full hover:bg-gray-400",
                      },
                      "再考虑考虑"
                    )
                  )
                )
              ),

            stage === 2 &&
              React.createElement(
                "div",
                {
                  className: "text-center space-y-6 animate-bounce-in",
                },
                React.createElement(Icon, {
                  name: "star",
                  className: "w-20 h-20 text-yellow-500 mx-auto",
                }),
                React.createElement(
                  "h2",
                  {
                    className: "text-3xl font-bold text-pink-600",
                  },
                  "谢谢你原谅我"
                ),
                React.createElement(
                  "p",
                  {
                    className: "text-xl text-gray-600",
                  },
                  "让我们继续书写我们的故事"
                )
              ),

            showMemories &&
              React.createElement(MemoriesGallery, {
                onClose: () => setShowMemories(false),
              }),

            hearts.map((heart) =>
              React.createElement(
                "div",
                {
                  key: heart.id,
                  className: "absolute animate-float",
                  style: {
                    left: `${heart.left}%`,
                    animationDuration: `${heart.animationDuration}s`,
                  },
                },
                React.createElement(Icon, {
                  name: "heart",
                  className: "text-pink-500 w-6 h-6",
                })
              )
            )
          );
        }

        return {
          render: function (containerId) {
            const container = document.getElementById(containerId);
            if (container) {
              const root = ReactDOM.createRoot(container);
              root.render(React.createElement(ApologyPage));
            }
          },
        };
      });
    </script>

    <!-- GSAP library -->
    <script src="/js/gsap.min.js"></script>
    <!-- GSAP ScrollTrigger plugin -->
    <script src="/js/ScrollTrigger.min.js"></script>
    <!-- GSAP SplitText (Club Membership), Trial only https://gsap.com/resources/trial/ -->
    <script src="/js/SplitText3.min.js"></script>
    <!-- <script src="https://assets.codepen.io/16327/SplitText3.min.js"></script> -->

    <!-- ImagesLoaded -->
    <script src="/js/imagesloaded.pkgd.min.js"></script>

    <!-- Add (Lenis) smooth scroll -->
    <script src="/js/lenis.min.js"></script>
    <script src="/js/smoothscroll.js"></script>

    <!-- Scripts for the effect -->
    <script type="module" src="/js/index.js"></script>

    <script type="module" src="./src/main.ts"></script>
  </body>
</html>
